R"(#include <unordered_map>
#include <string>
#include <vector>
#include <iostream>
#include <candle.h>
%INCLUDES%
using namespace daytrender;

typedef std::pair<std::string, std::vector<double>> indicator_data;
typedef std::unordered_map<std::string, indicator_data> indicator_dataset;
typedef std::pair<indicator_dataset, unsigned int> algorithm_data;
%INDICATOR_DEFINE%
%INDICATOR_DECLARE%
unsigned int getAction(const indicator_dataset& dataset, const candleset& candles,
	unsigned int index)
{
	%INDICATOR_DATA%
	%ALGORITHM_SCRIPT%
	return 0;
}

extern "C" algorithm_data process(const candleset& candles,
	unsigned int index, unsigned int window)
{
	indicator_dataset dataset;
	%DATASET_INIT%

	unsigned int action = getAction(dataset, candles, index);
	return { dataset, action };
}

extern "C" std::string getName()
{
	return "%ALGORITHM_NAME%";
}
)"